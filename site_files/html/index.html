<!DOCTYPE html>
<html lang="##session.language.id##" dir="##session.language.dir##" class="##session.language.dir##" ng-app="myApp">
  <head x-import="head.html">
    <style x-features="host.businessarea">
      html,
      .main-footer {
        background-color: transparent;
      }
      body {
        background-image: url('/images/businessarea.jpg');
        background-color: transparent;
        background-repeat: round;
        margin-top: 0;
        padding-top: 80px;
        margin-bottom: 40px;
      }
      a.social-browser {
        background: #009688 !important;
      }
      a.social-browser p {
        color: #ffffff !important;
      }
    </style>
    <style>
      .app-features {
        color: #0a0909;
        text-align: center;
        font-size: 30px;
        padding: 20px;
        font-weight: bold;
        display: block;
        background: #eee;
        border-radius: 0;
        margin: 20px;
      }
      .img_brand {
        border-radius: 15px;
        height: 170px;
        width: 300px;
      }

      .logo_ttl {
        border-radius: 15px;
        height: 550px;
        width: 700px;
      }

      .logo_pro {
        border-radius: 15px;
        height: 200px;
        width: 800px;
      }

      .img_pro {
        border-radius: 20px;
        height: 470px;
        width: 1200px;
      }

      .img_inout {
        border-radius: 15px;
        width: 330px;
        height: 250px;
      }

      #posts {
        display: block;
        padding: 5px;
        margin: 5px;
        text-align: center;
      }

      .project {
        padding: 0px;
        margin: 5px;
        text-align: center !important;
        border-radius: 15px;
        color: #000000;
        border-top-left-radius: 0px;
        border-top-right-radius: 0px;
        font-size: 16px;
        background: #f2f2ffb3;
      }

      .project h2 {
        height: 50px;
        border-radius: 15px;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 0px;
        font-size: 18px;
        text-align: center;
        font-weight: bold;
        color: #fff;
        padding: 9px;
        background: var(--theme-color);
        text-shadow: 1px 1px 8px #000000;
      }

      .project img {
        margin-top: 20px !important;
        margin-bottom: 20px !important;
        border-radius: 20px;
        width: 130px;
        height: 120px;
      }

      .project p {
        min-height: 150px;
        max-width: 270px;
        padding: 7px;
        text-align: center !important;
        color: #ffffff;
        background: #e91e63;
        border-top-left-radius: 0px;
        border-top-right-radius: 0px;
        font-size: 20px;
      }

      .post {
        position: relative;
        display: inline-grid;
        border: 1px solid #ddd;
        background: #fff;
        color: #000;
        border-radius: 15px;
        text-align: center;
        line-height: 1.8;
        width: min(70vw, 320px);
        height: 470px;
        margin: 15px;
        cursor: pointer;
      }

      .post h2 {
        height: 50px;
        border-radius: 15px;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 0px;
        font-size: 20px;
        text-align: center;
        font-weight: bold;
        color: #fff;
        padding: 17px;
        min-height: 70px;
        background: var(--theme-color);
        text-shadow: 1px 1px 8px #000000;
      }

      .post img {
        margin-top: 20px !important;
        margin-bottom: 20px !important;
        border-radius: 20px;
        width: 120px;
        height: 130px;
        place-self: center;
      }

      .post p {
        padding: 15px;
        text-align: center !important;
        border-radius: 15px;
        color: #ffffff;
        background: var(--theme-color);
        border-top-left-radius: 0px;
        border-top-right-radius: 0px;
        min-height: 200px;
        font-size: 16px;
        text-shadow: 1px 1px 1px #5369e0;
      }

      .post:hover .img__description {
        visibility: visible;
        padding: 18px;
        border-bottom-right-radius: 12px;
        border-bottom-left-radius: 12px;
        opacity: 1;
      }

      div.create {
        display: inline-block;
        padding: 20px;
        background: #117380;
        border-radius: 20px;
        transition: all 0.2s ease;
        margin: 20px !important;
      }

      div.create:hover {
        box-shadow: 1px 1px 14px 6px #000;
      }

      div.create a {
        color: #fff;
        font-size: 22px;
      }

      .img__description {
        position: absolute;
        top: 70px;
        bottom: 0;
        left: 0;
        right: 0;
        font-size: 19px;
        border-radius: 0px;
        line-height: 1.8;
        background: var(--theme-color);
        color: #fff;
        visibility: hidden;
        opacity: 0;
        box-shadow: none;
        border: none;
        transition: all 0.3s ease;
      }

      a.social-browser {
        display: inline-block;
        text-align: center;
        cursor: pointer;
        text-decoration: none;
        border-radius: 40px;
        width: 70%;
        background: #cddc39;
        padding: 30px;
        min-height: 100px;
        transition: all 0.2s ease;
      }

      a.social-browser:hover {
        transform: scale(1.1);
      }

      a.social-browser p {
        display: inline-block;
        vertical-align: middle;
        font-size: 22px;
        font-weight: bold;
        color: #f44336;
      }

      a.social-browser img {
        width: 64px;
        height: 64px;
        vertical-align: middle;
        object-fit: contain;
        aspect-ratio: 3/2;
        mix-blend-mode: luminosity;
        border-radius: 10px;
      }
    </style>
  </head>

  <body class="##session.lang## loaded">
    <nav class="sitebar" x-import="sitebar/index.html" ng-controller="sitebar"></nav>

    <nav class="sitebottom" x-import="sitebottom/index.html" ng-controller="sitebottom"></nav>

    <div id="main-layout">
      <div class="row top-header">
        <div class="col3 inout hidden">
          <div class="center inout">
            <img class="img_inout" ng-src="/images/inout.png" />
          </div>
        </div>

        <div class="col3 mt hidden">
          <div class="center mt">
            <img class="img_brand" ng-src="/images/mt.jpeg" />
          </div>
        </div>

        <div class="col3 ft hidden">
          <div class="center ft">
            <img class="img_brand" ng-src="/images/ft.png" />
          </div>
        </div>

        <div class="col3 protouch hidden">
          <div class="center protouch">
            <img class="logo_pro" ng-src="/images/pro_logo.png" />
          </div>
        </div>

        <div class="col3 ttl hidden">
          <div class="center ttl">
            <img class="logo_ttl" ng-src="/images/ttl_logo.png" />
          </div>
        </div>

        <div class="col3 center" x-features="!login && !site.dynamic && !host.businessarea">
          <div class="create center">
            <a onclick="site.showModal('#companyRegisterModal');"> <span class="bold"> ##word.create## ##word.companies_new## </span> </a>
          </div>
        </div>
      </div>

      <div id="posts" class="center"></div>

      <div class="row center" x-feature="!browser.social">
        <a class="social-browser" target="_blank" href="http://social-browser.com">
          <img ng-src="https://social-browser.com/images/logo.png" alt="Social Browser " onerror="this.onerror=null;this.parentNode.remove(this)" src="//social-browser.com/images/logo.png" />
          <p>##word.download_social_browser##</p>
          <img ng-src="https://social-browser.com/images/logo.png" alt="Social Browser " onerror="this.onerror=null;this.parentNode.remove(this)" src="//social-browser.com/images/logo.png" />
        </a>
      </div>

      <br />
      <br />
      <div x-import="scripts.html"></div>

      <div class="main-footer egypt hidden">
        <a href="https://api.whatsapp.com/send?phone=966568118373"><i class="fab fa-whatsapp" aria-hidden="true"></i> <span>966568118373</span> </a> <br />
        <a href="mailto:call.smart.code@gmail.com"> <i class="fa fa-envelope" aria-hidden="true"></i> <span>call.smart.code@gmail.com </span> </a> <br />
      </div>
      <div class="main-footer businessarea hidden"></div>
      <div class="main-footer mt hidden">
        <h2 class="center">
          <span>
            <h3 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">شركة ميدانى تكنولوجى</h3>
            <br />

            الجيزة-الهرم <i class="fa fa-map-marker" aria-hidden="true"></i><br />
            رقم بريدى 12515<br />
            <a href="tel:+201282141131"> +201282141131 <i class="fab fa-whatsapp-square" aria-hidden="true"></i> </a> <br />
          </span>
        </h2>
      </div>

      <div class="main-footer ft hidden">
        <h2 class="center">
          <span>
            <h2 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">Future-Tech</h2>
            <br />

            المنصورة : حي الجامعة <i class="fa fa-map-marker" aria-hidden="true"></i> <br />
            مسجد الصباحي - الدور السابع <i class="fa fa-building"></i><br />
            <br />
            <a href="tel:01554079393"> 01554079393 <i class="fab fa-whatsapp-square" aria-hidden="true"></i> </a> <br />
            <a href="tel:0502379393"> 0502379393 <i class="fa fa-phone" aria-hidden="true"></i> </a> <br />
            <a href="mailto:info@futurtechs.com"> info@futurtechs.com <i class="fa fa-envelope" aria-hidden="true"></i> </a> <br />
            <a href="https://www.futurtechs.com" target="_blank"> www.futurtechs.com <i class="fa fa-globe" aria-hidden="true"></i> </a>
            <br />
          </span>
        </h2>
      </div>

      <div class="main-footer protouch hidden">
        <h2 class="center">
          <span>
            <h2 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">Pro-Touch</h2>
            <br />

            المملكة العربية السعودية <br />
            أبها - حي المنسك <i class="fa fa-map-marker" aria-hidden="true"></i> <br />
            عمارات الراجحي - مكتب 225 <i class="fa fa-building"></i><br />
            <br />

            <br />
            <a href="tel:0552371188"> 0552371188 <i class="fa fa-phone" aria-hidden="true"></i> </a> <br />
            <a href="mailto:info@protouch-avs.com"> info@protouch-avs.com <i class="fa fa-envelope" aria-hidden="true"></i> </a> <br />

            <a href="https://www.fts-protouch.com" target="_blank"> /www.fts-protouch.com <i class="fa fa-globe" aria-hidden="true"></i> </a>
            <br />
            <br />
          </span>
        </h2>
      </div>

      <div class="main-footer ttl hidden">
        <h2 class="center">
          <span>
            <h2 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">TTL</h2>
            <br />

            <a href="tel:+201010070770"> +201010070770 <i class="fab fa-whatsapp-square"></i> </a> <br />
            <a href="mailto:sales@ttl-eg.com"> sales@ttl-eg.com <i class="fa fa-envelope" aria-hidden="true"></i> </a> <br />
            <a href="https://ttl-eg.com" target="_blank"> /ttl-eg.com <i class="fa fa-globe" aria-hidden="true"></i> </a>
            <br />
            <br />
          </span>
        </h2>
      </div>

      <div class="main-footer unqcode hidden">
        <h2 class="center">
          <span>
            <h2 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">UNQ-Code</h2>
            <br />
            المملكة العربية السعودية <i class="fa fa-map-marker" aria-hidden="true"></i>
            <br />

            <a href="https://info@unqcode.com" target="_blank"> info@unqcode.com <i class="fa fa-globe" aria-hidden="true"></i> </a>
            <a href="tel:+966 55 209 9231‬‬"> +966 55 209 9231‬‬ <i class="fab fa-whatsapp-square" aria-hidden="true"></i> </a>
            <br />
          </span>
        </h2>
      </div>

      <div class="main-footer inout hidden">
        <h2 class="center">
          <span>
            <h2 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">InOut</h2>
            <br />

            المنصورة : شارع الجمهورية - المختلط <i class="fa fa-map-marker" aria-hidden="true"></i> <br />
            بجوار المصرف المتحد <i class="fa fa-building"></i> <br />

            <br />
            <a href="tel:01050501011"> 01050501011 <i class="fab fa-whatsapp-square" aria-hidden="true"></i> </a> <br />
            <a href="tel:01090691050 "> 01090691050 <i class="fa fa-phone" aria-hidden="true"></i> </a> <br />
            <a href="tel:01021176968 "> 01021176968 <i class="fa fa-phone" aria-hidden="true"></i> </a> <br />

            <a href="https://Fb.com/inoutagent" target="_blank"> Fb.com/inoutagent <i class="fa fa-facebook"></i></a>
            <br />
          </span>
        </h2>
      </div>

      <div class="main-footer valley hidden">
        <h2 class="center">
          <span>
            <h2 class="center bold green" style="text-shadow: 3px 3px #b3b3ff; font-size: xxx-large">Techno-Valley</h2>
            <br />

            الاسماعيليه : حي السلام <i class="fa fa-map-marker" aria-hidden="true"></i> <br />
            تقاطع شارع الغابه والمستشفي امام نادي الطيران <i class="fa fa-building"></i> <br />

            <br />
            <a href="tel:01050501011"> 01030701900 <i class="fab fa-whatsapp-square" aria-hidden="true"></i> </a> <br />
            <a href="tel:01090691050 "> 01068576810 <i class="fa fa-phone" aria-hidden="true"></i> </a> <br />

            <br />
          </span>
        </h2>
      </div>
    </div>

    <script id="post-template" x-features="!host.valley" type="x-tmpl-mustache">
      <div class="post img__wrap" >
        <h2> {{title_##session.lang##}} </h2>
        <img src="{{image_url}}" alt="">
        <p class="description userPrint"> {{description_##session.lang##}} </p>
        <b class="img__description userPrint"> {{description_##session.lang##}} </b>
      </div>
    </script>

    <script id="pro-template" x-features="!host.ft && !host.free && !host.inout && !host.valley && !protouch  && !host.ttl && !host.mt" type="x-tmpl-mustache">

      <a class="pro-template" target="_blank" href="{{link}}">
        <div class="project img__wrap" >
          <h2> {{title_##session.lang##}} </h2>
          <img src="{{image_url}}" alt="">
          <p class="description"> {{description_##session.lang##}} </p>
        </div>
      </a>
    </script>

    <script>
      let busy = false;
      if ('##req.headers.host##'.like('*ttl*')) {
        $('.ttl').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*inout*')) {
        $('.inout').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*businessarea*')) {
        $('.businessarea').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*mt*')) {
        $('.mt').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*ft*')) {
        $('.ft').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*protouch*')) {
        $('.protouch').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*free*')) {
        $('.free').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*unqcode*')) {
        $('.unqcode').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*valley*')) {
        $('.valley').removeClass('hidden');
      } else if (window.protouch) {
        $('.protouch').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      } else if ('##req.headers.host##'.like('*elfgr*')) {
      } else {
        $('.egypt').removeClass('hidden');
        $('.price-info').removeClass('hidden');
      }

      function loadPosts(more) {
        busy = false;
        if (busy) {
          return;
        }

        if (typeof Mustache == 'undefined') {
          return;
        }

        if (busy) return;
        busy = true;

        $('.posts-loading').remove();
        $('#posts').append('<p class="posts-loading"> <img src="/images/loading.gif"> </p>');

        busy = true;

        site.getData(
          {
            url: '/json/app_features.json',
            method: 'POST',
          },
          function (res) {
            busy = false;

            var rendered = '';
            var post_template = $('#post-template').html();
            Mustache.parse(post_template);

            for (var i = 0; i < res.length; i++) {
              try {
                var post = {};

                if (res[i].feature == 'public') {
                  post = res[i];

                  if (res[i].title_en === 'Work shifts' && site.features.like('*school*')) {
                  } else rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'club' && site.features.like('*club*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'school' && site.features.like('*school*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'medical' && site.features.like('*medical*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'academy' && site.features.like('*academy*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'restaurant' && site.features.like('*restaurant*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'lawyer' && site.features.like('*lawyer*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'pos' && site.features.like('*pos*')) {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                } else if (res[i].feature == 'order') {
                  if (site.features.like('*restaurant*') || site.features.like('*pos*')) {
                    post = res[i];
                    rendered += Mustache.render(post_template, post);
                  }
                } else if (res[i].feature == 'pos') {
                  if (site.features.like('*erp*') || site.features.like('*club*') || site.features.like('*restaurant*') || site.features.like('*academy*')) {
                    post = res[i];
                    rendered += Mustache.render(post_template, post);
                  }
                } else if (res[i].feature == 'hr') {
                  post = res[i];
                  rendered += Mustache.render(post_template, post);
                }
              } catch (error) {}
            }

            $('#posts').append('<h3 class="app-features"> ##word.best_app_feautres## </h3>');
            $('#posts').append(rendered);

            busy = false;
            $('.posts-loading').remove();
            loadProjects();
          }
        );
      }

      function loadProjects(more) {
        if (busy) {
          return;
        }
        if (typeof Mustache == 'undefined') {
          return;
        }

        if (busy) return;
        busy = true;

        $('.posts-loading').remove();
        $('#posts').append('<p class="posts-loading"> <img src="/images/loading.gif"> </p>');
        $('#posts').append('<br>');

        busy = true;

        site.getData(
          {
            url: '/json/app_projects.json',
            method: 'POST',
          },
          function (res) {
            busy = false;

            var rendered = '';
            var post_template = $('#pro-template').html();
            Mustache.parse(post_template);

            for (var i = 0; i < res.length; i++) {
              try {
                var post = {};

                post = res[i];
                if ('##req.headers.host##'.like('*inout*')) {
                  post.link = `http://inout.${post.feature}.egytag.com`;
                } else if ('##req.headers.host##'.like('*mt*')) {
                  post.link = `http://mt.${post.feature}.egytag.com`;
                } else if ('##req.headers.host##'.like('*ft*')) {
                  post.link = `http://ft.${post.feature}.egytag.com`;
                } else if ('##req.headers.host##'.like('*protouch*')) {
                  post.link = `http://protouch.${post.feature}.egytag.com`;
                } else if ('##req.headers.host##'.like('*unqcode*')) {
                  post.link = `http://unqcode.${post.feature}.egytag.com`;
                } else if ('##req.headers.host##'.like('*valley*')) {
                  post.link = `http://valley.${post.feature}.egytag.com`;
                } else if ('##req.headers.host##'.like('*businessarea*')) {
                  post.link = `//${post.feature}.businessarea.com.sa`;
                } else {
                  post.link = `http://${post.feature}.egytag.com`;
                }

                if (!site.features.like(`*${post.feature}*`)) {
                  rendered += Mustache.render(post_template, post);
                }
              } catch (error) {}
            }

            if (!'##req.headers.host##'.like('*businessarea*')) {
              $('#posts').append('<h3 class="app-features"> ##word.see_our_apps##  </h3>');
              $('#posts').append(rendered);
            }

            busy = false;
            $('.posts-loading').remove();
          }
        );
      }

      if (!'##req.headers.host##'.like('*businessarea*')) {
        loadPosts();
      }

      var app = app || angular.module('myApp', []);

      function scope() {
        return angular.element(document.getElementById('main-layout')).scope();
      }
    </script>
  </body>
</html>
